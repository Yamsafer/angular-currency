!function(){angular.module("angularCurrency.config",[]).value("angularCurrency.config",{debug:!0}),angular.module("angularCurrency.directives",[]),angular.module("angularCurrency.filters",[]),angular.module("angularCurrency.services",[]),angular.module("angularCurrency",["angularCurrency.config","angularCurrency.directives","angularCurrency.filters","angularCurrency.services","ngCookies","ngSanitize"]),angular.module("angularCurrency.directives",[]).directive("currancySelect",["CurrencyService",function(e){return{restrict:"A",link:function(){},controller:function(r,n){function c(e){for(var r=e+"=",n=document.cookie.split(";"),c=0;c<n.length;c++){for(var a=n[c];" "==a.charAt(0);)a=a.substring(1);if(-1!=a.indexOf(r))return a.substring(r.length,a.length)}return""}function a(e,r,n){var c=new Date;c.setTime(c.getTime()+24*n*60*60*1e3);var a="expires="+c.toUTCString();document.cookie=e+"="+r+"; "+a+";path=/",console.log(document.cookie)}r.list=e.list,r.setCurrency=function(c){e.fetchRates(c.code).then(function(e){r.selectedCurrency=r.list[e.code],a("currencyCode",c.code),n.$broadcast("currency:changed")})};var o=c("currencyCode");o?(r.selectedCurrency=r.list[o],console.log(r.selectedCurrency),r.setCurrency(r.selectedCurrency)):e.fetchRates().then(function(e){r.selectedCurrency=r.list[e.code],a("currencyCode",e.code)})},templateUrl:"currency-options.html"}}]),angular.module("angularCurrency.filters",[]).filter("Ycurrency",function(e,r,n,c){return function(r){if(c.getRate()){var n=c.getRate(),a=n.rate,o=r*a,i=" <span class='currency-symbol' >"+n.code+"</span> ";return e("currency")(o,i)}return r}}),angular.module("angularCurrency.services",[]).factory("CurrencyService",["$log","$http","$q",function(e,r,n){currencyService={};var c=null;return currencyService.list={USD:{name:"United States Dollar",code:"USD",icon:"flag-us"},SAR:{name:"Saudi Arabia Riyal",code:"SAR",icon:"flag-sa"},KWD:{name:"Kuwait Dinar",code:"KWD",icon:"flag-kw"},AED:{name:"United Arab Emirates Dirham",code:"AED",icon:"flag-ae"},BHD:{name:"Bahrain Dinar",code:"BHD",icon:"flag-bh"},QAR:{name:"Qatar Riyal",code:"QAR",icon:"flag-qa"},OMR:{name:"Oman Rial",code:"OMR",icon:"flag-om"},JOD:{name:"Jordan Dinar",code:"JOD",icon:"flag-jo"},ILS:{name:"Israel Shekel",code:"ILS",icon:"flag-ps"},EGP:{name:"Egypt Pound",code:"EGP",icon:"flag-eg"},TRY:{name:"Turkey Lira",code:"TRY",icon:"flag-tr"},LBP:{name:"Lebanon Pound",code:"LBP",icon:"flag-lb"},TND:{name:"Tunisia Dinar",code:"TND",icon:"icon-tn"},MAD:{name:"Morocco Dirham",code:" MAD",icon:"flag-ma"},EUR:{name:"Euro",code:"EUR",icon:"flag-ey"},GBP:{name:"United Kingdom Pound",code:"GBP",icon:"flag-gb"}},currencyService.addToList=function(e){currencyService.list.push(e)},currencyService.removeFromList=function(e){angular.forEach(currencyService.list,function(r,n){r.code==e&&currencyService.list.splice(n,1)})},currencyService.fetchRates=function(a){var o=n.defer(),i=Yamsafer.baseUrl+"currencies/show";return a?i+="/"+a:i=i,console.log(i),r({method:"GET",url:i}).success(function(e){c=e,o.resolve(e)}).error(function(r,n){o.reject(r),e.error(r,n)}),o.promise},currencyService.getRate=function(){return c},currencyService}])}();